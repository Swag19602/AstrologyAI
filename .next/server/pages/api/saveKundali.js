"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/saveKundali";
exports.ids = ["pages/api/saveKundali"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsaveKundali&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FsaveKundali.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsaveKundali&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FsaveKundali.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_saveKundali_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/saveKundali.ts */ \"(api-node)/./src/pages/api/saveKundali.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_saveKundali_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_saveKundali_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/saveKundali\",\n        pathname: \"/api/saveKundali\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _src_pages_api_saveKundali_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGc2F2ZUt1bmRhbGkmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRnNhdmVLdW5kYWxpLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQzJEO0FBQzNEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywwREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMERBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmMvcGFnZXMvYXBpL3NhdmVLdW5kYWxpLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zYXZlS3VuZGFsaVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NhdmVLdW5kYWxpXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsaveKundali&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FsaveKundali.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./src/pages/api/saveKundali.ts":
/*!**************************************!*\
  !*** ./src/pages/api/saveKundali.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment-timezone */ \"moment-timezone\");\n/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var tz_lookup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tz-lookup */ \"tz-lookup\");\n/* harmony import */ var tz_lookup__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tz_lookup__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst BASE_URL = \"https://json.apiastro.com\";\nconst API_KEY = process.env.FREE_ASTROLOGY_API_KEY;\nconst getTimezoneOffset = (lat, lon, dateTime)=>{\n    const tz = tz_lookup__WEBPACK_IMPORTED_MODULE_3___default()(lat, lon); // Get IANA timezone string\n    const offsetMinutes = moment_timezone__WEBPACK_IMPORTED_MODULE_2___default().tz(dateTime, tz).utcOffset(); // Offset in minutes\n    return offsetMinutes / 60; // Convert to float\n};\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    console.log(\"Received request to save Kundali data\");\n    console.log(\"Request body:\", req.body);\n    const { name, dateOfBirth, timeOfBirth, placeOfBirth, latitude, longitude, timezone } = req.body;\n    if (!name || !dateOfBirth || !timeOfBirth || !placeOfBirth || !latitude || !longitude) {\n        return res.status(400).json({\n            message: \"Missing required fields\"\n        });\n    }\n    const [year, month, day] = dateOfBirth.split(\"-\").map(Number);\n    const [hour, minute] = timeOfBirth.split(\":\").map(Number);\n    const dateTimeISO = `${dateOfBirth}T${timeOfBirth}:00`;\n    const numericTimezone = getTimezoneOffset(latitude, longitude, dateTimeISO);\n    const requestBody = {\n        year,\n        month,\n        date: day,\n        hours: hour,\n        minutes: minute,\n        seconds: 0,\n        latitude,\n        longitude,\n        timezone: numericTimezone,\n        observation_point: \"topocentric\",\n        ayanamsha: \"lahiri\",\n        language: \"en\"\n    };\n    const endpoints = [\n        {\n            key: \"planetsExtended\",\n            path: \"planets/extended\"\n        },\n        {\n            key: \"mahadashaAntardasha\",\n            path: \"vimsottari/maha-dasas-and-antar-dasas\"\n        }\n    ];\n    const kundaliData = {};\n    try {\n        for (const { key, path } of endpoints){\n            const response = await fetch(`${BASE_URL}/${path}`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-api-key\": API_KEY\n                },\n                body: JSON.stringify(requestBody)\n            });\n            // Rate limiting\n            console.log(`Fetching ${key}: ${response.status} ${response.statusText}`);\n            if (!response.ok) {\n                const text = await response.text();\n                console.error(`Error fetching ${key}:`, text);\n                throw new Error(`Failed to fetch ${key}: ${text}`);\n            }\n            const data = await response.json();\n            kundaliData[key] = data;\n            await new Promise((resolve)=>setTimeout(resolve, 3000)); // Delay for 3 seconds\n        }\n        // Prepare full object with metadata + data\n        const completeKundali = {\n            name,\n            dateOfBirth,\n            timeOfBirth,\n            placeOfBirth,\n            latitude,\n            longitude,\n            timezone: numericTimezone,\n            generatedAt: new Date().toISOString(),\n            data: kundaliData\n        };\n        // Save to JSON file\n        const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(\"/tmp/\", `${name.replace(/\\s+/g, \"_\")}_kundali.json`);\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(completeKundali, null, 2));\n        return res.status(200).json({\n            message: \"Kundali fetched and saved successfully\",\n            filePath: `/tmp/${name.replace(/\\s+/g, \"_\")}_kundali.json`,\n            kundaliData: completeKundali\n        });\n    } catch (error) {\n        console.error(\"Error fetching kundali data:\", error);\n        return res.status(500).json({\n            message: error.message || \"Failed to fetch kundali data\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0IsRUFBRVgsSUFBSSxFQUFFLEVBQUVTLE1BQU07WUFDbkQ7WUFFQSxNQUFNRyxPQUFPLE1BQU1WLFNBQVNqQyxJQUFJO1lBQ2hDZ0MsV0FBVyxDQUFDRCxJQUFJLEdBQUdZO1lBQ25CLE1BQU0sSUFBSUMsUUFBUSxDQUFDQyxVQUFZQyxXQUFXRCxTQUFTLFFBQVEsc0JBQXNCO1FBQ25GO1FBRUEsMkNBQTJDO1FBQzNDLE1BQU1FLGtCQUFrQjtZQUN0QjFDO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FDLFVBQVVVO1lBQ1YyQixhQUFhLElBQUlDLE9BQU9DLFdBQVc7WUFDbkNQLE1BQU1YO1FBQ1I7UUFFQSxvQkFBb0I7UUFDcEIsTUFBTW1CLFdBQVd2RSxnREFBUyxDQUN4QixTQUNBLEdBQUd5QixLQUFLZ0QsT0FBTyxDQUFDLFFBQVEsS0FBSyxhQUFhLENBQUM7UUFFN0MxRSx1REFBZ0IsQ0FBQ3dFLFVBQVVmLEtBQUtDLFNBQVMsQ0FBQ1UsaUJBQWlCLE1BQU07UUFFakUsT0FBT2xELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDMUJDLFNBQVM7WUFDVGtELFVBQVUsQ0FBQyxLQUFLLEVBQUU5QyxLQUFLZ0QsT0FBTyxDQUFDLFFBQVEsS0FBSyxhQUFhLENBQUM7WUFDMURyQixhQUFhZTtRQUNmO0lBQ0YsRUFBRSxPQUFPTixPQUFZO1FBQ25CdkMsUUFBUXVDLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU81QyxJQUNKRSxNQUFNLENBQUMsS0FDUEMsSUFBSSxDQUFDO1lBQUVDLFNBQVN3QyxNQUFNeEMsT0FBTyxJQUFJO1FBQStCO0lBQ3JFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zd2FnYXRhbWJoYXR0YWNoYXJqZWUvRGVza3RvcC9Bc3Ryb2xvZ3lBSS9zcmMvcGFnZXMvYXBpL3NhdmVLdW5kYWxpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50LXRpbWV6b25lXCI7XG5pbXBvcnQgdHpsb29rdXAgZnJvbSBcInR6LWxvb2t1cFwiO1xuaW1wb3J0IEJvdHRsZW5lY2sgZnJvbSBcImJvdHRsZW5lY2tcIjtcbmNvbnN0IEJBU0VfVVJMID0gXCJodHRwczovL2pzb24uYXBpYXN0cm8uY29tXCI7XG5jb25zdCBBUElfS0VZID0gcHJvY2Vzcy5lbnYuRlJFRV9BU1RST0xPR1lfQVBJX0tFWSE7XG5cbmNvbnN0IGdldFRpbWV6b25lT2Zmc2V0ID0gKFxuICBsYXQ6IG51bWJlcixcbiAgbG9uOiBudW1iZXIsXG4gIGRhdGVUaW1lOiBzdHJpbmdcbik6IG51bWJlciA9PiB7XG4gIGNvbnN0IHR6ID0gdHpsb29rdXAobGF0LCBsb24pOyAvLyBHZXQgSUFOQSB0aW1lem9uZSBzdHJpbmdcbiAgY29uc3Qgb2Zmc2V0TWludXRlcyA9IG1vbWVudC50eihkYXRlVGltZSwgdHopLnV0Y09mZnNldCgpOyAvLyBPZmZzZXQgaW4gbWludXRlc1xuICByZXR1cm4gb2Zmc2V0TWludXRlcyAvIDYwOyAvLyBDb252ZXJ0IHRvIGZsb2F0XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZVxuKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSBcIlBPU1RcIikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6IFwiTWV0aG9kIG5vdCBhbGxvd2VkXCIgfSk7XG4gIH1cblxuICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIHJlcXVlc3QgdG8gc2F2ZSBLdW5kYWxpIGRhdGFcIik7XG4gIGNvbnNvbGUubG9nKFwiUmVxdWVzdCBib2R5OlwiLCByZXEuYm9keSk7XG5cbiAgY29uc3Qge1xuICAgIG5hbWUsXG4gICAgZGF0ZU9mQmlydGgsXG4gICAgdGltZU9mQmlydGgsXG4gICAgcGxhY2VPZkJpcnRoLFxuICAgIGxhdGl0dWRlLFxuICAgIGxvbmdpdHVkZSxcbiAgICB0aW1lem9uZSxcbiAgfSA9IHJlcS5ib2R5O1xuXG4gIGlmIChcbiAgICAhbmFtZSB8fFxuICAgICFkYXRlT2ZCaXJ0aCB8fFxuICAgICF0aW1lT2ZCaXJ0aCB8fFxuICAgICFwbGFjZU9mQmlydGggfHxcbiAgICAhbGF0aXR1ZGUgfHxcbiAgICAhbG9uZ2l0dWRlXG4gICkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiTWlzc2luZyByZXF1aXJlZCBmaWVsZHNcIiB9KTtcbiAgfVxuXG4gIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5XSA9IGRhdGVPZkJpcnRoLnNwbGl0KFwiLVwiKS5tYXAoTnVtYmVyKTtcbiAgY29uc3QgW2hvdXIsIG1pbnV0ZV0gPSB0aW1lT2ZCaXJ0aC5zcGxpdChcIjpcIikubWFwKE51bWJlcik7XG5cbiAgY29uc3QgZGF0ZVRpbWVJU08gPSBgJHtkYXRlT2ZCaXJ0aH1UJHt0aW1lT2ZCaXJ0aH06MDBgO1xuICBjb25zdCBudW1lcmljVGltZXpvbmUgPSBnZXRUaW1lem9uZU9mZnNldChsYXRpdHVkZSwgbG9uZ2l0dWRlLCBkYXRlVGltZUlTTyk7XG5cbiAgY29uc3QgcmVxdWVzdEJvZHkgPSB7XG4gICAgeWVhcixcbiAgICBtb250aCxcbiAgICBkYXRlOiBkYXksXG4gICAgaG91cnM6IGhvdXIsXG4gICAgbWludXRlczogbWludXRlLFxuICAgIHNlY29uZHM6IDAsXG4gICAgbGF0aXR1ZGUsXG4gICAgbG9uZ2l0dWRlLFxuICAgIHRpbWV6b25lOiBudW1lcmljVGltZXpvbmUsXG4gICAgb2JzZXJ2YXRpb25fcG9pbnQ6IFwidG9wb2NlbnRyaWNcIixcbiAgICBheWFuYW1zaGE6IFwibGFoaXJpXCIsXG4gICAgbGFuZ3VhZ2U6IFwiZW5cIixcbiAgfTtcblxuICBjb25zdCBlbmRwb2ludHMgPSBbXG4gICAgeyBrZXk6IFwicGxhbmV0c0V4dGVuZGVkXCIsIHBhdGg6IFwicGxhbmV0cy9leHRlbmRlZFwiIH0sXG4gICAge1xuICAgICAga2V5OiBcIm1haGFkYXNoYUFudGFyZGFzaGFcIixcbiAgICAgIHBhdGg6IFwidmltc290dGFyaS9tYWhhLWRhc2FzLWFuZC1hbnRhci1kYXNhc1wiLFxuICAgIH0sXG4gIF07XG5cbiAgY29uc3Qga3VuZGFsaURhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICB0cnkge1xuICAgIGZvciAoY29uc3QgeyBrZXksIHBhdGggfSBvZiBlbmRwb2ludHMpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFTRV9VUkx9LyR7cGF0aH1gLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICBcIngtYXBpLWtleVwiOiBBUElfS0VZLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSksXG4gICAgICB9KTtcblxuICAgICAgLy8gUmF0ZSBsaW1pdGluZ1xuICAgICAgY29uc29sZS5sb2coYEZldGNoaW5nICR7a2V5fTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyAke2tleX06YCwgdGV4dCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoICR7a2V5fTogJHt0ZXh0fWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAga3VuZGFsaURhdGFba2V5XSA9IGRhdGE7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDAwKSk7IC8vIERlbGF5IGZvciAzIHNlY29uZHNcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIGZ1bGwgb2JqZWN0IHdpdGggbWV0YWRhdGEgKyBkYXRhXG4gICAgY29uc3QgY29tcGxldGVLdW5kYWxpID0ge1xuICAgICAgbmFtZSxcbiAgICAgIGRhdGVPZkJpcnRoLFxuICAgICAgdGltZU9mQmlydGgsXG4gICAgICBwbGFjZU9mQmlydGgsXG4gICAgICBsYXRpdHVkZSxcbiAgICAgIGxvbmdpdHVkZSxcbiAgICAgIHRpbWV6b25lOiBudW1lcmljVGltZXpvbmUsXG4gICAgICBnZW5lcmF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgZGF0YToga3VuZGFsaURhdGEsXG4gICAgfTtcblxuICAgIC8vIFNhdmUgdG8gSlNPTiBmaWxlXG4gICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oXG4gICAgICBcIi90bXAvXCIsXG4gICAgICBgJHtuYW1lLnJlcGxhY2UoL1xccysvZywgXCJfXCIpfV9rdW5kYWxpLmpzb25gXG4gICAgKTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShjb21wbGV0ZUt1bmRhbGksIG51bGwsIDIpKTtcblxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBtZXNzYWdlOiBcIkt1bmRhbGkgZmV0Y2hlZCBhbmQgc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICBmaWxlUGF0aDogYC90bXAvJHtuYW1lLnJlcGxhY2UoL1xccysvZywgXCJfXCIpfV9rdW5kYWxpLmpzb25gLFxuICAgICAga3VuZGFsaURhdGE6IGNvbXBsZXRlS3VuZGFsaSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBrdW5kYWxpIGRhdGE6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDUwMClcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBmZXRjaCBrdW5kYWxpIGRhdGFcIiB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJtb21lbnQiLCJ0emxvb2t1cCIsIkJBU0VfVVJMIiwiQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJGUkVFX0FTVFJPTE9HWV9BUElfS0VZIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJsYXQiLCJsb24iLCJkYXRlVGltZSIsInR6Iiwib2Zmc2V0TWludXRlcyIsInV0Y09mZnNldCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwibmFtZSIsImRhdGVPZkJpcnRoIiwidGltZU9mQmlydGgiLCJwbGFjZU9mQmlydGgiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInRpbWV6b25lIiwieWVhciIsIm1vbnRoIiwiZGF5Iiwic3BsaXQiLCJtYXAiLCJOdW1iZXIiLCJob3VyIiwibWludXRlIiwiZGF0ZVRpbWVJU08iLCJudW1lcmljVGltZXpvbmUiLCJyZXF1ZXN0Qm9keSIsImRhdGUiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwib2JzZXJ2YXRpb25fcG9pbnQiLCJheWFuYW1zaGEiLCJsYW5ndWFnZSIsImVuZHBvaW50cyIsImtleSIsImt1bmRhbGlEYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhdHVzVGV4dCIsIm9rIiwidGV4dCIsImVycm9yIiwiRXJyb3IiLCJkYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY29tcGxldGVLdW5kYWxpIiwiZ2VuZXJhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJmaWxlUGF0aCIsImpvaW4iLCJyZXBsYWNlIiwid3JpdGVGaWxlU3luYyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./src/pages/api/saveKundali.ts\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "moment-timezone":
/*!**********************************!*\
  !*** external "moment-timezone" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("moment-timezone");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "tz-lookup":
/*!****************************!*\
  !*** external "tz-lookup" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("tz-lookup");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsaveKundali&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FsaveKundali.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();