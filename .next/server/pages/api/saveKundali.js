"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/saveKundali";
exports.ids = ["pages/api/saveKundali"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsaveKundali&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FsaveKundali.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsaveKundali&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FsaveKundali.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_saveKundali_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/saveKundali.ts */ \"(api-node)/./src/pages/api/saveKundali.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_saveKundali_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_saveKundali_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/saveKundali\",\n        pathname: \"/api/saveKundali\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _src_pages_api_saveKundali_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGc2F2ZUt1bmRhbGkmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRnNhdmVLdW5kYWxpLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQzJEO0FBQzNEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywwREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMERBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmMvcGFnZXMvYXBpL3NhdmVLdW5kYWxpLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zYXZlS3VuZGFsaVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NhdmVLdW5kYWxpXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsaveKundali&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FsaveKundali.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./src/pages/api/saveKundali.ts":
/*!**************************************!*\
  !*** ./src/pages/api/saveKundali.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment-timezone */ \"moment-timezone\");\n/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var tz_lookup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tz-lookup */ \"tz-lookup\");\n/* harmony import */ var tz_lookup__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tz_lookup__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst BASE_URL = \"https://json.apiastro.com\";\nconst API_KEY = process.env.FREE_ASTROLOGY_API_KEY;\nconst getTimezoneOffset = (lat, lon, dateTime)=>{\n    const tz = tz_lookup__WEBPACK_IMPORTED_MODULE_3___default()(lat, lon); // Get IANA timezone string\n    const offsetMinutes = moment_timezone__WEBPACK_IMPORTED_MODULE_2___default().tz(dateTime, tz).utcOffset(); // Offset in minutes\n    return offsetMinutes / 60; // Convert to float\n};\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    console.log(\"Received request to save Kundali data\");\n    console.log(\"Request body:\", req.body);\n    const { name, dateOfBirth, timeOfBirth, placeOfBirth, latitude, longitude, timezone } = req.body;\n    if (!name || !dateOfBirth || !timeOfBirth || !placeOfBirth || !latitude || !longitude) {\n        return res.status(400).json({\n            message: \"Missing required fields\"\n        });\n    }\n    const [year, month, day] = dateOfBirth.split(\"-\").map(Number);\n    const [hour, minute] = timeOfBirth.split(\":\").map(Number);\n    const dateTimeISO = `${dateOfBirth}T${timeOfBirth}:00`;\n    const numericTimezone = getTimezoneOffset(latitude, longitude, dateTimeISO);\n    const requestBody = {\n        year,\n        month,\n        date: day,\n        hours: hour,\n        minutes: minute,\n        seconds: 0,\n        latitude,\n        longitude,\n        timezone: numericTimezone,\n        observation_point: \"topocentric\",\n        ayanamsha: \"lahiri\",\n        language: \"en\"\n    };\n    const endpoints = [\n        {\n            key: \"planetsExtended\",\n            path: \"planets/extended\"\n        },\n        {\n            key: \"mahadashaAntardasha\",\n            path: \"vimsottari/maha-dasas-and-antar-dasas\"\n        }\n    ];\n    const kundaliData = {};\n    try {\n        for (const { key, path } of endpoints){\n            const response = await fetch(`${BASE_URL}/${path}`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-api-key\": API_KEY\n                },\n                body: JSON.stringify(requestBody)\n            });\n            console.log(`Fetching ${key}: ${response.status} ${response.statusText}`);\n            if (!response.ok) {\n                const text = await response.text();\n                console.error(`Error fetching ${key}:`, text);\n                throw new Error(`Failed to fetch ${key}: ${text}`);\n            }\n            const data = await response.json();\n            kundaliData[key] = data;\n            setTimeout(()=>{}, 1000); // Rate limit\n        }\n        // Prepare full object with metadata + data\n        const completeKundali = {\n            name,\n            dateOfBirth,\n            timeOfBirth,\n            placeOfBirth,\n            latitude,\n            longitude,\n            timezone: numericTimezone,\n            generatedAt: new Date().toISOString(),\n            data: kundaliData\n        };\n        // Save to JSON file\n        const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(\"/tmp/\", `${name.replace(/\\s+/g, \"_\")}_kundali.json`);\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(completeKundali, null, 2));\n        return res.status(200).json({\n            message: \"Kundali fetched and saved successfully\",\n            filePath: `/tmp/${name.replace(/\\s+/g, \"_\")}_kundali.json`,\n            kundaliData: completeKundali\n        });\n    } catch (error) {\n        console.error(\"Error fetching kundali data:\", error);\n        return res.status(500).json({\n            message: error.message || \"Failed to fetch kundali data\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsRUFBRVMsTUFBTTtZQUNuRDtZQUVBLE1BQU1HLE9BQU8sTUFBTVYsU0FBU2pDLElBQUk7WUFDaENnQyxXQUFXLENBQUNELElBQUksR0FBR1k7WUFDbkJDLFdBQVcsS0FBTyxHQUFHLE9BQU8sYUFBYTtRQUMzQztRQUVBLDJDQUEyQztRQUMzQyxNQUFNQyxrQkFBa0I7WUFDdEJ4QztZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBQyxVQUFVVTtZQUNWeUIsYUFBYSxJQUFJQyxPQUFPQyxXQUFXO1lBQ25DTCxNQUFNWDtRQUNSO1FBRUEsb0JBQW9CO1FBQ3BCLE1BQU1pQixXQUFXckUsZ0RBQVMsQ0FDeEIsU0FDQSxHQUFHeUIsS0FBSzhDLE9BQU8sQ0FBQyxRQUFRLEtBQUssYUFBYSxDQUFDO1FBRTdDeEUsdURBQWdCLENBQUNzRSxVQUFVYixLQUFLQyxTQUFTLENBQUNRLGlCQUFpQixNQUFNO1FBRWpFLE9BQU9oRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1RnRCxVQUFVLENBQUMsS0FBSyxFQUFFNUMsS0FBSzhDLE9BQU8sQ0FBQyxRQUFRLEtBQUssYUFBYSxDQUFDO1lBQzFEbkIsYUFBYWE7UUFDZjtJQUNGLEVBQUUsT0FBT0osT0FBWTtRQUNuQnZDLFFBQVF1QyxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPNUMsSUFDSkUsTUFBTSxDQUFDLEtBQ1BDLElBQUksQ0FBQztZQUFFQyxTQUFTd0MsTUFBTXhDLE9BQU8sSUFBSTtRQUErQjtJQUNyRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvc3dhZ2F0YW1iaGF0dGFjaGFyamVlL0Rlc2t0b3AvQXN0cm9sb2d5QUkvc3JjL3BhZ2VzL2FwaS9zYXZlS3VuZGFsaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudC10aW1lem9uZVwiO1xuaW1wb3J0IHR6bG9va3VwIGZyb20gXCJ0ei1sb29rdXBcIjtcbmltcG9ydCBCb3R0bGVuZWNrIGZyb20gXCJib3R0bGVuZWNrXCI7XG5jb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly9qc29uLmFwaWFzdHJvLmNvbVwiO1xuY29uc3QgQVBJX0tFWSA9IHByb2Nlc3MuZW52LkZSRUVfQVNUUk9MT0dZX0FQSV9LRVkhO1xuXG5jb25zdCBnZXRUaW1lem9uZU9mZnNldCA9IChcbiAgbGF0OiBudW1iZXIsXG4gIGxvbjogbnVtYmVyLFxuICBkYXRlVGltZTogc3RyaW5nXG4pOiBudW1iZXIgPT4ge1xuICBjb25zdCB0eiA9IHR6bG9va3VwKGxhdCwgbG9uKTsgLy8gR2V0IElBTkEgdGltZXpvbmUgc3RyaW5nXG4gIGNvbnN0IG9mZnNldE1pbnV0ZXMgPSBtb21lbnQudHooZGF0ZVRpbWUsIHR6KS51dGNPZmZzZXQoKTsgLy8gT2Zmc2V0IGluIG1pbnV0ZXNcbiAgcmV0dXJuIG9mZnNldE1pbnV0ZXMgLyA2MDsgLy8gQ29udmVydCB0byBmbG9hdFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2Vcbikge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gXCJQT1NUXCIpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiBcIk1ldGhvZCBub3QgYWxsb3dlZFwiIH0pO1xuICB9XG5cbiAgY29uc29sZS5sb2coXCJSZWNlaXZlZCByZXF1ZXN0IHRvIHNhdmUgS3VuZGFsaSBkYXRhXCIpO1xuICBjb25zb2xlLmxvZyhcIlJlcXVlc3QgYm9keTpcIiwgcmVxLmJvZHkpO1xuXG4gIGNvbnN0IHtcbiAgICBuYW1lLFxuICAgIGRhdGVPZkJpcnRoLFxuICAgIHRpbWVPZkJpcnRoLFxuICAgIHBsYWNlT2ZCaXJ0aCxcbiAgICBsYXRpdHVkZSxcbiAgICBsb25naXR1ZGUsXG4gICAgdGltZXpvbmUsXG4gIH0gPSByZXEuYm9keTtcblxuICBpZiAoXG4gICAgIW5hbWUgfHxcbiAgICAhZGF0ZU9mQmlydGggfHxcbiAgICAhdGltZU9mQmlydGggfHxcbiAgICAhcGxhY2VPZkJpcnRoIHx8XG4gICAgIWxhdGl0dWRlIHx8XG4gICAgIWxvbmdpdHVkZVxuICApIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIk1pc3NpbmcgcmVxdWlyZWQgZmllbGRzXCIgfSk7XG4gIH1cblxuICBjb25zdCBbeWVhciwgbW9udGgsIGRheV0gPSBkYXRlT2ZCaXJ0aC5zcGxpdChcIi1cIikubWFwKE51bWJlcik7XG4gIGNvbnN0IFtob3VyLCBtaW51dGVdID0gdGltZU9mQmlydGguc3BsaXQoXCI6XCIpLm1hcChOdW1iZXIpO1xuXG4gIGNvbnN0IGRhdGVUaW1lSVNPID0gYCR7ZGF0ZU9mQmlydGh9VCR7dGltZU9mQmlydGh9OjAwYDtcbiAgY29uc3QgbnVtZXJpY1RpbWV6b25lID0gZ2V0VGltZXpvbmVPZmZzZXQobGF0aXR1ZGUsIGxvbmdpdHVkZSwgZGF0ZVRpbWVJU08pO1xuXG4gIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgIHllYXIsXG4gICAgbW9udGgsXG4gICAgZGF0ZTogZGF5LFxuICAgIGhvdXJzOiBob3VyLFxuICAgIG1pbnV0ZXM6IG1pbnV0ZSxcbiAgICBzZWNvbmRzOiAwLFxuICAgIGxhdGl0dWRlLFxuICAgIGxvbmdpdHVkZSxcbiAgICB0aW1lem9uZTogbnVtZXJpY1RpbWV6b25lLFxuICAgIG9ic2VydmF0aW9uX3BvaW50OiBcInRvcG9jZW50cmljXCIsXG4gICAgYXlhbmFtc2hhOiBcImxhaGlyaVwiLFxuICAgIGxhbmd1YWdlOiBcImVuXCIsXG4gIH07XG5cbiAgY29uc3QgZW5kcG9pbnRzID0gW1xuICAgIHsga2V5OiBcInBsYW5ldHNFeHRlbmRlZFwiLCBwYXRoOiBcInBsYW5ldHMvZXh0ZW5kZWRcIiB9LFxuICAgIHtcbiAgICAgIGtleTogXCJtYWhhZGFzaGFBbnRhcmRhc2hhXCIsXG4gICAgICBwYXRoOiBcInZpbXNvdHRhcmkvbWFoYS1kYXNhcy1hbmQtYW50YXItZGFzYXNcIixcbiAgICB9LFxuICBdO1xuXG4gIGNvbnN0IGt1bmRhbGlEYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgdHJ5IHtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBwYXRoIH0gb2YgZW5kcG9pbnRzKSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBU0VfVVJMfS8ke3BhdGh9YCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgXCJ4LWFwaS1rZXlcIjogQVBJX0tFWSxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGBGZXRjaGluZyAke2tleX06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgJHtrZXl9OmAsIHRleHQpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCAke2tleX06ICR7dGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGt1bmRhbGlEYXRhW2tleV0gPSBkYXRhO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7fSwgMTAwMCk7IC8vIFJhdGUgbGltaXRcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIGZ1bGwgb2JqZWN0IHdpdGggbWV0YWRhdGEgKyBkYXRhXG4gICAgY29uc3QgY29tcGxldGVLdW5kYWxpID0ge1xuICAgICAgbmFtZSxcbiAgICAgIGRhdGVPZkJpcnRoLFxuICAgICAgdGltZU9mQmlydGgsXG4gICAgICBwbGFjZU9mQmlydGgsXG4gICAgICBsYXRpdHVkZSxcbiAgICAgIGxvbmdpdHVkZSxcbiAgICAgIHRpbWV6b25lOiBudW1lcmljVGltZXpvbmUsXG4gICAgICBnZW5lcmF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgZGF0YToga3VuZGFsaURhdGEsXG4gICAgfTtcblxuICAgIC8vIFNhdmUgdG8gSlNPTiBmaWxlXG4gICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oXG4gICAgICBcIi90bXAvXCIsXG4gICAgICBgJHtuYW1lLnJlcGxhY2UoL1xccysvZywgXCJfXCIpfV9rdW5kYWxpLmpzb25gXG4gICAgKTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShjb21wbGV0ZUt1bmRhbGksIG51bGwsIDIpKTtcblxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBtZXNzYWdlOiBcIkt1bmRhbGkgZmV0Y2hlZCBhbmQgc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICBmaWxlUGF0aDogYC90bXAvJHtuYW1lLnJlcGxhY2UoL1xccysvZywgXCJfXCIpfV9rdW5kYWxpLmpzb25gLFxuICAgICAga3VuZGFsaURhdGE6IGNvbXBsZXRlS3VuZGFsaSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBrdW5kYWxpIGRhdGE6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDUwMClcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBmZXRjaCBrdW5kYWxpIGRhdGFcIiB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJtb21lbnQiLCJ0emxvb2t1cCIsIkJBU0VfVVJMIiwiQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJGUkVFX0FTVFJPTE9HWV9BUElfS0VZIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJsYXQiLCJsb24iLCJkYXRlVGltZSIsInR6Iiwib2Zmc2V0TWludXRlcyIsInV0Y09mZnNldCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwibmFtZSIsImRhdGVPZkJpcnRoIiwidGltZU9mQmlydGgiLCJwbGFjZU9mQmlydGgiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInRpbWV6b25lIiwieWVhciIsIm1vbnRoIiwiZGF5Iiwic3BsaXQiLCJtYXAiLCJOdW1iZXIiLCJob3VyIiwibWludXRlIiwiZGF0ZVRpbWVJU08iLCJudW1lcmljVGltZXpvbmUiLCJyZXF1ZXN0Qm9keSIsImRhdGUiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwib2JzZXJ2YXRpb25fcG9pbnQiLCJheWFuYW1zaGEiLCJsYW5ndWFnZSIsImVuZHBvaW50cyIsImtleSIsImt1bmRhbGlEYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhdHVzVGV4dCIsIm9rIiwidGV4dCIsImVycm9yIiwiRXJyb3IiLCJkYXRhIiwic2V0VGltZW91dCIsImNvbXBsZXRlS3VuZGFsaSIsImdlbmVyYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZmlsZVBhdGgiLCJqb2luIiwicmVwbGFjZSIsIndyaXRlRmlsZVN5bmMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./src/pages/api/saveKundali.ts\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "moment-timezone":
/*!**********************************!*\
  !*** external "moment-timezone" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("moment-timezone");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "tz-lookup":
/*!****************************!*\
  !*** external "tz-lookup" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("tz-lookup");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsaveKundali&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FsaveKundali.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();