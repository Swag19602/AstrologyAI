(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(9023)}])},9023:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>n});var a=l(7876),r=l(4232),i=l(9099);let s=()=>{let[e,t]=(0,r.useState)({name:"",dateOfBirth:"",timeOfBirth:"",placeOfBirth:""}),l=(0,i.useRouter)(),[s,o]=(0,r.useState)(!1),[n,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),m=l=>{t({...e,[l.target.name]:l.target.value})},h=async t=>{t.preventDefault(),o(!0),u(""),c(!1);try{let t=await fetch("https://api.opencagedata.com/geocode/v1/json?q=".concat(e.placeOfBirth,"&key=").concat("58d4e9597cd84a5abbb05bb46f15c2bc")),a=(await t.json()).results[0];if(!a)throw Error("Could not find location");let r=a.geometry.lat,i=a.geometry.lng,s=a.annotations.timezone.name,o={...e,latitude:r,longitude:i,timezone:s},n=await fetch("/api/saveKundali",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),d=await n.json();if(!n.ok)throw Error(d.message||"Something went wrong");localStorage.setItem("kundaliData",JSON.stringify(d)),c(!0),setTimeout(()=>l.push("/chat"),3e3)}catch(e){u(e.message)}finally{o(!1)}};return(0,a.jsxs)("form",{onSubmit:h,className:"max-w-xl mx-auto p-8 rounded-3xl shadow-2xl bg-gradient-to-br from-[#3b0764] via-[#6b21a8] to-[#f97316] text-white space-y-6 border border-yellow-100/20",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold text-center text-yellow-300 drop-shadow-md",children:"\uD83E\uDE94 Kundali Details"}),(0,a.jsx)("p",{className:"text-center text-lg text-orange-100",children:"Fill in your birth details to receive Vedic insights into your destiny."}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"name",className:"text-yellow-100 font-medium",children:"Full Name"}),(0,a.jsx)("input",{type:"text",name:"name",id:"name",value:e.name,onChange:m,placeholder:"Enter your Full Name",required:!0,className:"w-full bg-white/10 text-yellow-100 placeholder-gray border border-yellow-300/30 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition-all"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"dateOfBirth",className:"text-yellow-100 font-medium",children:"Date of Birth"}),(0,a.jsx)("input",{type:"date",name:"dateOfBirth",id:"dateOfBirth",value:e.dateOfBirth,onChange:m,required:!0,className:"w-full bg-white/10 text-black border border-yellow-300/30 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition-all"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"timeOfBirth",className:"text-yellow-100 font-medium",children:"Time of Birth"}),(0,a.jsx)("input",{type:"time",name:"timeOfBirth",id:"timeOfBirth",value:e.timeOfBirth,onChange:m,required:!0,className:"w-full bg-white/10 text-black border border-yellow-300/30 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition-all"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"placeOfBirth",className:"text-yellow-100 font-medium",children:"Place of Birth"}),(0,a.jsx)("input",{type:"text",name:"placeOfBirth",id:"placeOfBirth",placeholder:"City, State or Village",value:e.placeOfBirth,onChange:m,required:!0,className:"w-full bg-white/10 text-yellow-100 placeholder-gray border border-yellow-300/30 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition-all"})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-semibold text-lg py-3 rounded-xl hover:scale-105 active:scale-95 transition-transform shadow-md",disabled:s,children:s?"\uD83E\uDDE0 Calculating your Kundali...":"\uD83D\uDD2E Generate Kundali"}),n&&(0,a.jsx)("p",{className:"text-green-300 text-center",children:"✅ Kundali Saved Successfully!"}),d&&(0,a.jsxs)("p",{className:"text-red-300 text-center",children:["⚠️ ",d]})]})};var o=l(2482);let n=()=>(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-[#f9a825] via-[#ff8c00] to-[#ff4500] text-white py-10 px-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(o.A,{className:"text-yellow-300 w-12 h-12"}),(0,a.jsx)("h1",{className:"text-5xl font-extrabold tracking-wide",children:"Astrology AI"})]}),(0,a.jsx)("p",{className:"text-lg mb-8 text-center max-w-2xl",children:"\uD83C\uDF1F Enter your Kundali details below to receive personalized predictions and insights from Gemini, your Vedic astrology assistant."}),(0,a.jsx)(s,{})]})},9099:(e,t,l)=>{e.exports=l(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6760)),_N_E=e.O()}]);