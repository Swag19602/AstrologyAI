(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{4186:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(7876),l=r(4232),s=r(9625);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}var o=r(9720);let i=e=>{let{text:t,from:r}=e,l="user"===r;return(0,a.jsxs)(s.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:n("flex mb-4 items-center",{"justify-end":l,"justify-start":!l}),children:[!l&&(0,a.jsx)("span",{className:"mr-3 text-2xl flex items-center justify-center w-8 h-8 bg-purple-500 text-white rounded-full shadow-lg",children:"\uD83E\uDD16"}),l&&(0,a.jsx)("span",{className:"ml-3 text-2xl flex items-center justify-center w-8 h-8 bg-yellow-500 text-white rounded-full shadow-lg",children:"\uD83E\uDDD1‍\uD83D\uDCBB"}),(0,a.jsx)("div",{className:n("max-w-[75%] px-5 py-3 rounded-2xl text-sm leading-relaxed shadow-lg",{"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-500 text-white":l,"bg-gradient-to-br from-purple-700 via-purple-500 to-pink-500 text-gray-100":!l}),children:(0,a.jsx)(o.oz,{components:{h1:e=>{let{node:t,...r}=e;return(0,a.jsx)("h1",{...r,className:"text-lg font-bold mb-2"})},h2:e=>{let{node:t,...r}=e;return(0,a.jsx)("h2",{...r,className:"text-base font-semibold mb-1"})},strong:e=>{let{node:t,...r}=e;return(0,a.jsx)("strong",{...r,className:"font-semibold"})},li:e=>{let{node:t,...r}=e;return(0,a.jsx)("li",{...r,className:"list-disc list-inside"})},p:e=>{let{node:t,...r}=e;return(0,a.jsx)("p",{...r,className:"mb-2"})}},children:t})})]})};var c=r(2482);let d=()=>{let[e,t]=(0,l.useState)([{from:"bot",text:"\uD83D\uDD2E Namaste! Ask me anything about your Kundali, future, or inner journey."}]),[r,s]=(0,l.useState)(""),[n,o]=(0,l.useState)(null),d=(0,l.useRef)(null);(0,l.useEffect)(()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]),(0,l.useEffect)(()=>{let e=localStorage.getItem("kundaliData");if(e)try{let t=JSON.parse(e);o(t)}catch(e){console.error("Invalid kundaliData in localStorage:",e),o(null)}},[]);let u=async()=>{if(!r.trim())return;let a=[...e,{from:"user",text:r}];t(a);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userMessage:r,kundaliData:n})}),l=(await e.json()).reply||"❓ Sorry, I could not understand that.";t([...a,{from:"bot",text:l}])}catch(e){t([...a,{from:"bot",text:"⚠️ Something went wrong. Please try again later."}])}finally{s("")}};return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto h-[90vh] bg-gradient-to-br from-[#6a0dad] via-[#ffcc00] to-[#ff6347] p-6 rounded-xl shadow-2xl text-white flex flex-col",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"text-yellow-300"})," Vedic AstroBot"]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white/10 rounded-lg backdrop-blur-sm border border-white/20 shadow-inner",children:[e.map((e,t)=>(0,a.jsx)(i,{text:e.text,from:e.from},t)),(0,a.jsx)("div",{ref:d})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,a.jsx)("input",{value:r,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&u()},className:"flex-1 bg-white/20 text-black placeholder-white/70 border border-white/30 p-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-400 backdrop-blur-md",placeholder:"Ask something like: What is my career path?"}),(0,a.jsx)("button",{onClick:u,className:"bg-gradient-to-r from-yellow-400 to-pink-500 text-black font-bold px-5 py-3 rounded-xl hover:scale-105 active:scale-95 transition transform",children:"Send"})]})]})};function u(){return(0,a.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-[#f9a825] via-[#ff8c00] to-[#ff4500] py-10 px-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mb-6 text-white",children:"\uD83E\uDE90 Kundali Chat AI"}),(0,a.jsx)(d,{})]})}},4480:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return r(4186)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[248,636,593,792],()=>t(4480)),_N_E=e.O()}]);